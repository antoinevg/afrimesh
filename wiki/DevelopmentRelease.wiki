#summary How to release a new version of afrimesh
#labels Phase-Implementation,Developers

From time to time this software will try to escape into the world.

By following these instructions you can make this a painless process for everyone involved every time.


= Subversion =
* Run:
{{{
  svn copy http://afrimesh.googlecode.com/svn/trunk \
           http://afrimesh.googlecode.com/tags/afrimesh-<version>-r<revision#> \
      -m "Tagged afrimesh-<version>-r<revision#>."
}}}


= OpenWRT =
* Bump revision number:
{{{
  vi package-scripts/openwrt/afrimesh/Makefile
  # edit PKG_REV to reflect the correct subversion revision number
}}}

* Build binary packages and firmware images
{{{
  cd <kamikaze directory>
  make clean world
}}}

* Upload to repository
{{{
  scp -r bin/* downloads.afrimesh.org:/usr/local/www/apache22/data/firmware
}}}


* Update OpenWRT

While we maintain a mirror of the openwrt package scripts in the afrimesh source tree the master version lives in the openwrt repository and will need to be updated to reflect new releases.

{{{
}}}


= Ubuntu =
* Bump revision number:
{{{
  # edit VERSION to reflect the correct subversion revision number
  vi Makefile
  # update changelog
  vi ./package-scripts/debian/afrimesh-dashboard/changelog
}}}

* Update pbuilder environment
{{{
  sudo pbuilder update
}}}

* Test package build locally
{{{
  make packages-linux
}}}

* Update Launchpad PPA with the latest source package
{{{
  make launchpad-linux
}}}


= FreeBSD =

TBD


= Announcements =