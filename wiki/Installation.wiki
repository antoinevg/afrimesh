#summary Installation Instructions <- Start Here!
#labels Phase-Deploy

= Afrimesh Installation =

== Step 1 - Install the afrimesh-dashboard package ==

=== Ubuntu ===

Before you can install the afrimesh-dashboard package you will
need to add the Afrimesh package archive & keys to the system.

To do this, please open up a Terminal and run:

  {{{
  sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 50CFBA3E
  sudo sh -c "echo deb http://ppa.launchpad.net/afrimesh/ppa/ubuntu hardy main >> /etc/apt/sources.list"
  sudo apt-get update
  }}}

[http://afrimesh.googlecode.com/svn/wiki/Installation.images/ubuntu-terminal.png]

You should only ever have to do this once to access all present
and future Afrimesh releases from your machine.

Finally, you can install the afrimesh-dashboard package by running:

  {{{
  sudo apt-get install afrimesh-dashboard
  }}}

Alternatively, afrimesh-dashboard package will now also be available
for installation from Synaptic Package Manager:

[http://afrimesh.googlecode.com/svn/wiki/Installation.images/ubuntu-synaptic.png]


=== OpenWRT ===

TODO


=== FreeBSD ===

TODO

  {{{
  cd /usr/ports/net-mgmt/afrimesh-dashboard
  make install clean
  }}}


=== From Source ===

The latest stable version of the Afrimesh sources can always be
obtained from: [http://code.google.com/p/afrimesh/downloads/list]

  {{{ 
  make all
  make install
  }}}
  


== Step 2 - Configure the afrimesh-dashboard package ==

Once you have installed the afrimesh dashboard package you can
access the web interface by opening a browser and going to:

  {{{ http://<your machine's address>/afrimesh/ }}}

Assuming everything went according to plan you should now see the
Network Map display:

[http://afrimesh.googlecode.com/svn/wiki/Installation.images/network-map.png]

== Configuration ==

To configure the Afrimesh Dashboard for your network you need to
open the Utility->Settings menu:

[http://afrimesh.googlecode.com/svn/wiki/Installation.images/utility-settings-menu.png]


=== IMPORTANT ====
You will see that all the dashboard service addresses are set to {{{ demo.afrimesh.org }}} by default. 

You HAVE to set these addresses to the appropriate values for your network in order for the dashboard to function on your network.

By default it's setup to look at MY network, not yours!!! :-)
=== IMPORTANT ====


[http://afrimesh.googlecode.com/svn/wiki/Installation.images/utility-settings-mesh.png]

The *Visualization Server* is responsible for tracking how the nodes in
your mesh network connect to one another. 

All mesh nodes periodically connect to the *Visualization Server* and
update it with information about their neighbors.

It is recommended that you install the *Visualization Server* for your
network on the server or mesh node which acts as the mesh gateway
although, in practice, any system reachable from the mesh network can
be used.

TODO - how to install vis on each of OpenWRT, FreeBSD, Ubuntu


The *Accounting Server* is responsible for tracking the amount of data
downloaded from the Internet by each mesh node.

You _must_ install it on the server or mesh node acting as the
Internet Gateway. Installing it elsewhere will provide misleading
data!





[http://afrimesh.googlecode.com/svn/wiki/Installation.images/utility-settings-internet.png]




[http://afrimesh.googlecode.com/svn/wiki/Installation.images/utility-settings-radius.png]

[http://afrimesh.googlecode.com/svn/wiki/Installation.images/utility-settings-map.png]


--


= Mesh Node Installation =


== Step 3 - Install Afrimesh on your mesh nodes  ==

You can ignore the instructions below and skip straight to the
configuration section if you are running Mesh Potato hardware as
they are already preconfigured to work with the Afrimesh
Dashboard out of the box.

=== Option 1 - Install Afrimesh on an existing OpenWRT router ===

TODO

=== Option 2 - Reflash router with an OpenWRT firmware image preconfigured with Afrimesh ===

TODO


== Step 4 - Configure Afrimesh on mesh nodes ==

TODO

Assuming that Network & Wireless settings are correctly
configured for your particular network, the only actual mesh node
configuration step consists of setting the B.A.T.M.A.N. Vis
Server to the same value you used in the Dashboard configuration.




=== Option 2: TODO Install FreeBSD Port ===
  # cd /usr/ports/net-mgmt/afrimesh-dashboard
  # make install clean

=== Option 3: TODO Install From Source ===
  # Download latest
  # Unpack: tar xjf afrimesh-0.1.tar.bz2
  # Compile: make
  # Install: make install


== Mesh Nodes ==
 
NB: [InstallationOpenWRT Manual installation instructions]

We provide binary firmware images and packages for OpenWRT Kamikaze based routers based on:
  * The Broadcom Chipset (e.g. Linksys)
  * The Atheros Chipset (e.g. Ubiquity, Open-Mesh, Meraki)

=== TODO Flash Router ===
  * Linksys Instructions
  * Meraki Instructions
  * Ubiquity Instructions
  * Open Mesh Instructions

=== TODO Configure Router ==
  # Plug computer into router or join router SSID
  # Go to http://192.168.1.1
  # Answer the questions
  # Reboot router