<!--
 * Afrimesh: easy management for B.A.T.M.A.N. wireless mesh networks
 * Copyright (C) 2008-2009 Meraka Institute of the CSIR
 * All rights reserved.
 *  
 * This software is licensed as free software under the terms of the
 * New BSD License. See /LICENSE for more information.
-->

<h2>Upgrade Firmware</h2>

<div class="utility-upgrade">

  <table border=0 width=300>
    <thead><th colspan=2>Network Updates</th></thead>
    <tr id="packages">
      <td>Check for updated packages</td><td><button>check</button></td>
    </tr>
    <tr id="firmware">
      <td>Check for updated firmware</td><td><button>check</button></td>
    </tr>
    
    <tr><td colspan=2>&nbsp;</td></tr>
    
    <thead><th colspan=2>Reflash Potato</th></thead>
    <tr id="upload">
      <td>Upload new firmware</td><td><button>browse</button></td>
    </tr>
  </table>

</div>

<script type="text/javascript"> //<![CDATA[    
(function() {

  /** includes ------------------------------------------------------------ */
  /* load includes with: load("path/to/file.js");   */
  /* often a good idea:  load("modules/utility.upgrade.js"); *;/

  /** construction -------------------------------------------------------- */
  ready = function() { // INJ 'ready' should be the only symbol we're exposing to the global namespace
    console.debug("loaded utility.upgrade.html");
   $("#packages button").click(onpackages);
   $("#firmware button").click(onfirmware);
   $("#upload button").click(onupload);
    return unload;
  };

  function unload() {
    clearTimeout(timer);
    console.debug("unloaded utility.upgrade.html");
  };


  /** updaters ------------------------------------------------------------ */

  function onpackages() {
    console.debug("updating packages");
    $("#packages td:eq(0)").html("Checking...");
    $("#packages button").html("<img src='images/indicator.gif'/>");
  };

  function onfirmware() {
    console.debug("updating firmware");
    $("#firmware td:eq(0)").html("Checking...");
    $("#firmware button").html("<img src='images/indicator.gif'/>");
  };

  function onupload() {
    console.debug("uploading firmware");
  };


  /** done ---------------------------------------------------------------- */
  console.debug("loaded utility.upgrade.js");
 
})();
//]]></script>

